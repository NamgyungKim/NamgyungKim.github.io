---
title: "[wanted pre onboarding] 4ë²ˆì§¸ ê³¼ì œ: APIë¥¼ ì´ìš©í•´ ê°„ë‹¨í•œ ì‚¬ì´íŠ¸ êµ¬í˜„"
layout: single
sidebar_main: true
categories:
  - project
  - pre_onboarding
---

![styled_components](https://img.shields.io/badge/styled_components-DB7093?style=flat-square&logo=styled-components&logoColor=white)
![React](https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=white)
![Redux](https://img.shields.io/badge/Redux-764ABC?style=flat-square&logo=Redux&logoColor=white)
![Netlify](https://img.shields.io/badge/Netlify-00C7B7?style=flat-square&logo=Netlify&logoColor=white)  

**ë°°í¬**: <https://wanted-preonboarding-4.netlify.app/>  
**ê³¼ì œ GitHub**: <https://github.com/NamgyungKim/wanted-codestates-project-3-4>

**ê³¼ì œ**: APIë¥¼ ì´ìš©í•´ ê°„ë‹¨í•œ ì‚¬ì´íŠ¸ êµ¬í˜„
- ìƒë‹¨ Tab barëŠ” Clickì„ í†µí•´ ê°ê°ì˜ Tabìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„
- ìŠ¬ë¼ì´ë”©ìœ¼ë¡œ ìƒˆë¡œë‚˜ì˜¨ì»¨í…ì¸  ë³´ì—¬ì£¼ê¸°
- APIë¡œ ì œê³µí•˜ì§€ ì•ŠëŠ” likeê¸°ëŠ¥ êµ¬í˜„, Local Storagë¡œ ì €ì¥
- ë”ë³´ê¸° í´ë¦­ì‹œ ì»¨í…ì¸  ë³´ì—¬ì£¼ê¸°

<br /><br />

## âœ¨ APIë¡œ ì œê³µí•˜ì§€ ì•ŠëŠ” likeê¸°ëŠ¥ êµ¬í˜„, Local Storagë¡œ ì €ì¥

<br />

- ë‹¤ìŒì€ ì²˜ìŒ ì‚¬ì´íŠ¸ë¥´ ë°©ë¬¸ì‹œ apië¥¼ storeì— ë„£ì–´ì£¼ëŠ” actionì´ë‹¤.  
ì²˜ìŒì— APIë¥¼ storeì— ì €ì¥í• ë•Œ isClickë¼ëŠ” keyê°’ì„ ë„£ì–´ì£¼ì—ˆë‹¤.   
ì´í›„ì— LocalStorageì— ê°’ì´ ìˆì„ë•ŒëŠ” LocalStorageì— ë§ëŠ” idê°€ ìˆì„ ì‹œ isClickì˜ ì´ˆê¸°ê°’ì„ trueë¡œ, like_cntë„ 1ì”© ì˜¬ë ¤ì£¼ì—ˆë‹¤.  

```js
// dataReducer.js
case GET_CONTENT_DATA: {
  const clickHeartId = getLocalData('clickHeartId');
  const content = action.payload.data.content.map(item => {
    if (clickHeartId && clickHeartId.indexOf(item.id) !== -1) {
      item.like_cnt = item.like_cnt + 1;
      item.isClick = true;
    } else {
      item.isClick = false;
    }
    return item;
  });
  const sector = action.payload.data.sector;
  return {
    ...state,
    data: {
      content: content,
      sector: sector,
    },
    isLoaded: action.payload.isLoaded,
  };
}
```
 <br /><br />

- ë‹¤ìŒì€ likeë¥¼ í´ë¦­í–ˆì„ ê²½ìš°ì˜ actionì´ë‹¤.  
í•œë²ˆ í´ë¦­ì‹œ isClickì„ trueë¡œ, like_cntì˜ ê°’ì— +1 ì„ í•´ì£¼ì—ˆë‹¤.  
ë‹¤ì‹œ isClickì˜ ê°’ì´ trueì¸ ë°ì´í„°ë¥¼ í´ë¦­í•  ê²½ìš° falseë¡œ ë³€ê²½ë˜ê³  like_cntì˜ ê°’ì€ -1 ì„ í•´ì£¼ì—ˆë‹¤.  
ì—¬ê¸°ì—ì„œ ëˆ„ë¥¼ë•Œ ë§ˆë‹¤ í´ë¦­í•œ ì•„ì´ë””ë¥¼ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì˜¬ë ¤ì£¼ê³ , ë‚´ë ¤ì£¼ì—ˆë‹¤.

```js
// dataReducer.js
case CLICK_LIKE: {
  const content = state.data.content.map(item => {
    if (item.id === action.id) {
      if (item.isClick === false) {
        return {
          ...item,
          like_cnt: item.like_cnt + 1,
          isClick: true,
        };
      } else {
        return { ...item, like_cnt: item.like_cnt - 1, isClick: false };
      }
    } else {
      return item;
    }
  });

  const clickHeartId = [];
  content.forEach(item => {
    if (item.isClick) {
      clickHeartId.push(item.id);
    }
  });
  // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
  // setLocalData(Key, Value);
  setLocalData('clickHeartId', clickHeartId);
  return { ...state, data: { content: content } };
}
```




<br /><br />

## ğŸ“š ë°°ìš´ì 

- Reduxë¡œ APIë¥¼ ë°›ì•„ì„œ ê´€ë¦¬í•˜ëŠ”ë²•ì„ ë°°ì› ë‹¤. Local Storagì— ì €ì¥í•˜ëŠ” ê²ƒë„ ì²˜ìŒí•´ë³´ëŠ”ë° ì–´ë µì§€ëŠ” ì•Šì•˜ë‹¤. ë‹¤ë§Œ ì•„ì§ ReduxëŠ” ì¢€ ë” ìµìˆ™í•´ì§ˆ í•„ìš”ëŠ” ìˆëŠ” ê²ƒ ê°™ë‹¤. ë‹¤ìŒì—ë„ ë‹¤ì‹œ ê¸°íšŒê°€ ìˆìœ¼ë©´ Reduxë¶€ë¶„ì„ ë§ì•„ì„œ í•´ë³´ê³  ì‹¶ë‹¤.
- ì²˜ìŒìœ¼ë¡œ Reduxë¥¼ ë§ì•„ì„œ ì—¬ë ¤ìš´ì ë„ ë§ì•˜ì§€ë§Œ, ëª¨ë¥´ëŠ” ë¶€ë¶„ì—ì„œëŠ” íŒ€ì›ë“¤ì´ ì˜ ì•Œë ¤ì¤˜ì„œ ì˜ ë§ˆì¹  ìˆ˜ ìˆì—ˆë‹¤.

<br /><br /><br /><br />
