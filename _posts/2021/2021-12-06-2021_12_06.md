---
title: "[모두의 네트워크] 4장 데이터 링크 계층"
layout: single
categories: web
tag: [web, 네트워크, 모두의 네트워크]
toc: true #true/ false
toc_sticky: true
---


## 12. 데이터 링크 계층의 역할과 이더넷

데이터 링크 계층은 랜에서 받은 데이터를 주고 받기 위해 필요한 계층이다. 

### 이더넷

- **네트워크 장비 간에 신호를 주고 받는 규칙** 중 하나이다.
- 일반적으로 가장 많이 사용되고 있는 규칙이다.
- 허브의 경우여러 컴퓨터가 동시에 데이터를 전송하면 데이터들끼리 부딛치는 충돌 이 일어날 수 있다.
하지만 **이너넷**은 여러 컴퓨터가 **동시에 데이터를 전송해도 충돌되지 않는 구조**로 되어있다.
→이더넷은 **CSMA/CD**(송파 감지 다중 접속 및 충돌 탐지)라는 데이터를 보내는 시점을 늦추는 방법을 택해서 이를 막고 있다.
- 스위치를 사용하면 충돌이 일어날일이 없다.

> ❓ **CSMA/CD** <br />
**CS** : 데이터를 보내려고 하는 컴퓨터의 케이블에 신호가 흐르고 있는지 아닌지를 확인한다는 규칙.<br />
**MA** : 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다는 규칙.<br />
**CD** : 충돌이 발생하고 있는지 확인한다는 규칙.

<br />

## 13. MAC 주소의 구조

### MAC 주소란

: **랜카드 제조시 새겨지는 물리주소** 이다. 이 주소는 전 세계에서 유일한 번호로 할당되어진다.
주소는 48비트의 숫자로 구성되어있고, 앞에 24비트는 제조사 번호 뒤 24비트는 제조사가 붙인 번호이다.

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_1.png)


![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_2.png)

(OSI모델의 데이터 링크계층, TCP/IP모델의 네트워크 계층이 이에 해당된다.) <br />
이 계층에서 **이더넷 헤더**와 **트레일러**를 붙인다.

- **헤더 :** 이더넷 헤더는 **목적지의 MAC주소(6바이트), 출발지 MAC주소(6바이트), 유형(2바이트)**로 구성되어있다.
    여기서 유형은 이더넷으로 전송되는 상위 계층(네트워크 계층) 프로토콜의 종류를 나타낸다.
    
    | 유형 번호(2바이트) | 프로토콜 |
    | --- | --- |
    | 0800 | IPv4 |
    | 0806 | ARP |
    | 8035 | RARP |
    | 814C | SNMP over Ethernet |
    | 86DD | IPv6 |
- **트레일러** : 뒤에 들어가는 트레일러는 **FCS**(Frame Check Sequence)라고도 하는데 **전송 도중 오류가 발생하는지 확인**하는 용도로 사용된다.

이처럼 헤더와 트레일러가 추가된 데이터를 프레임 이라고한다. 이것이 물리계층에서 비트가 전기신호로 변환 되어 네트워크로 전송되어지는 것이다.
이후 허브를 통해 모든 컴퓨터에 데이터가 간다. 
MAC주소가 자신과 다르면 데이터를 파기한다. 

<br />

## 14. 스위치의 구조

스위치의 내부에는 **MAC주소테이블** 이라는 것이 있다. 스위치의 포트 번호와 해당 포트에 연결되어있는 컴퓨터의 MAC주소가 등록되어있는 데이터 베이스 이다. (이것을 MAC주소학습기능 이라한다. 허브에는 없는 기능.)

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_3.png)

- 각각의 번호마다 연결되어있는 컴퓨터의 MAC의 주소가 저장되는 것이다.
- 허브처럼 다 보내는 것이 아니라 MAC주소 테이블을 보고 목적지의 MAC주소에 맞는 컴퓨터에만 데이터를 전송한다. 이것을 MAC 주소 필터링 이라한다.

<br />

## 15. 데이터가 케이블에서 충돌하지 않는 구조

### 전이중 통신과 반이중 통신

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_4.png)

- **반이중 통신** : 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식
    - **허브**는 송수신이 나누어져있지 않기때문에 송신이나 수신이 동시에 일어나면 충돌이 일어나서 회선 하나로 송수신을 번갈아가며 사용해야하는 반이중 통신 방식이다.
- **전이중 통신** : 데이터의 송수신이 동시에 가능하다.
    - **랜선**은 4쌍의 선을 사용하기 때문에 전이중통신이 된다.
    - **스위치**는 전이중 방식으로 데이터를 주고받을 수 있다.

### 충돌 도메인이란?

**충돌이 미치는 범위를 충돌 도메인**이라고 한다.

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_5.png)

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_6.png)

허브의 경우 충돌이 일어나면 모든 컴퓨터에 영향을 미치지만, 스위치의 경우에는 다른 컴퓨터에는 영향을 미치지 않는다.

<br />

## 16. 이더넷의 종류와 특징

### 이더넷 규격

이더넷은 케이블 종류, 통신 속도에 따라 다양한 규격으로 분류된다.

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_7.png)

여기 규격명은 무엇을 뜻할까?

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_8.png)

통신속도의 단위는 Mbps, 전송방식은 BASEBAND, 케이블의종류 이렇게 나타난다. 혹은,

![이미지]({{ site.url }}{{ site.baseurl }}/assets/images/2021-12/06_9.png)

'- 케이블종류' 가 없는 경우에는 케이블의 최대 길이를 뜻한다. 단위는 100m이다.
요즘에는 랜포트는 1000BASE-T가 일반적이다.


<br /><br /><br /><br />

**< Refer to >**<br />
[삼성전자서비스](https://www.samsungsvc.co.kr/solution/35790) <br />
[ 네이버 블로그 : 전송 방식 분류 ]([https://m.blog.naver.com/cni1577/221527666494](https://m.blog.naver.com/cni1577/221527666494)) <br />
[ LAN과 이더넷 ]([https://handreamnet.tistory.com/496](https://handreamnet.tistory.com/496))